!function(e){"use strict";function t(t){var r={containerSelector:"body",dataCaption:!1,figureClass:"imgFigure",figcaptionClass:"imgFigure__caption",imgClassSelector:"",mode:"overlay",inheritStyles:!0,setFigureWidth:!0},o=i(r,t);"complete"===document.readyState?n(o):e.addEventListener("load",function(t){n(o),e.removeEventListener("load")})}function n(e){var t,n,i=e,s=i.figcaptionClass,d="",f=i.containerSelector,g=i.dataCaption,m="",p=i.figureClass,h=i.imgClassSelector,v=i.inheritStyles,y="",C=i.mode,b=i.setFigureWidth;t=o(f),t.length>0&&(n=a(t,h),n.length>0&&n.forEach(function(e,t,n){if(y="",d=g?r(e,"data-caption"):e.alt,m=r(e,"data-link"),d&&d.length>0){var i=document.createElement("figcaption"),o=document.createElement("figure");if(m&&m.length>0&&(y=document.createElement("a"),y.href=m,y.textContent=d),o.className=p,C&&"bottom"===C){var a=s+" "+s+"--bottom";i.className=a}else i.className=s;if(b&&(o=c(e,o),e.removeAttribute("width")),v){var f=r(e,"style");f&&(e.removeAttribute("style"),o.setAttribute("style",f))}u(o,e),y?i.appendChild(y):i.textContent=d,l(i,e)}}))}function i(e,t){return t&&Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function r(e,t){return e.getAttribute(t)||!1}function o(e){return document.querySelectorAll(e)}function a(e,t){var n=[],i="img";return Array.prototype.forEach.call(e,function(e){t&&(i+="."+t);var r=e.querySelectorAll(i);n.push.apply(n,r)}),n}function l(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function c(e,t){var n=r(e,"width");return n&&"px"===n.substr(n.length-2)&&(t.style.width=n),t}function u(e,t){t.length||(t=[t]);for(var n=t.length-1;n>=0;n--){var i=n>0?e.cloneNode(!0):e,r=t[n],o=r.parentNode,a=r.nextSibling;i.appendChild(r),a?o.insertBefore(i,a):o.appendChild(i)}}e.captionify=t}(window);