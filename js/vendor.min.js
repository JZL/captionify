!function(t){"use strict";function e(t){this.options=t=n({},t);var e={containerSelector:"body",dataCaption:!1,figureClass:"imgFigure",figcaptionClass:"imgFigure__caption",imgClassSelector:"",mode:"overlay",inheritStyles:!0,setFigureWidth:!0};for(var i in e)i in t||(t[i]=e[i]);this._init()}function n(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(t,e){return t.hasAttribute(e)?e=t.getAttribute(e):!1}function r(t){var e,n=t.substring(0,1),i=t.substring(1);return e="."===n?document.getElementsByClassName(i):"#"===n?[document.getElementById(i)]:document.getElementsByTagName(t)}function a(t,e){var n,i=[];return t=Array.prototype.slice.call(t),t.forEach(function(t,r,a){n=e?t.getElementsByClassName(e):t.getElementsByTagName("img"),n=Array.prototype.slice.call(n);for(var o=n.length-1;o>=0;o--)i.push(n[o])}),i}function o(t,e){e.parentNode.insertBefore(t,e.nextSibling)}function s(t,e){var n=i(t,"width");return n&&"px"===n.substr(n.length-2)&&(e.style.width=n),e}function l(t,e){e.length||(e=[e]);for(var n=e.length-1;n>=0;n--){var i=n>0?t.cloneNode(!0):t,r=e[n],a=r.parentNode,o=r.nextSibling;i.appendChild(r),o?a.insertBefore(i,o):a.appendChild(i)}}e.prototype={_init:function(){var t,e,n=this.options,c=n.figcaptionClass,u="",g=n.containerSelector,f=n.dataCaption,m="",d=n.figureClass,h=n.imgClassSelector,p=n.inheritStyles,y="",v=n.mode,C=n.setFigureWidth;t=r(g),t.length>0&&(e=a(t,h),e.length>0&&e.forEach(function(t,e,n){if(y="",u=f?i(t,"data-caption"):t.alt,m=i(t,"data-link"),u&&u.length>0){var r=document.createElement("figcaption"),a=document.createElement("figure");if(m&&m.length>0&&(y=document.createElement("a"),y.href=m,y.textContent=u),a.className=d,v&&"bottom"===v){var g=c+" "+c+"--bottom";r.className=g}else r.className=c;if(C&&(a=s(t,a),t.removeAttribute("width")),p){var h=i(t,"style");h&&(t.removeAttribute("style"),a.setAttribute("style",h))}l(a,t),y?r.appendChild(y):r.textContent=u,o(r,t)}}))}},t.Captionify=e}(window);